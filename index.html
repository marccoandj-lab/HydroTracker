<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HydroTracker - Water Consumption Tracker</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#0a0a0f">
    <meta name="description" content="Track your daily water consumption with a beautiful, modern interface. Stay hydrated and healthy!">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HydroTracker">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-messaging-compat.js"></script>
    
    <!-- Firebase Config - EDIT THIS FILE WITH YOUR CONFIG -->
    <script src="firebase-config.js"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-animation">
            <div class="water-drop">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z" fill="currentColor"/>
                </svg>
            </div>
            <div class="loading-text">HydroTracker</div>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
        </div>
    </div>

    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="login-header">
                <div class="login-logo">
                    <div class="logo-icon-wrapper large">
                        <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z" fill="currentColor"/>
                        </svg>
                    </div>
                    <h1>HydroTracker</h1>
                    <p class="login-tagline">Stay hydrated, stay healthy</p>
                </div>
            </div>
            
            <div class="login-forms">
                <!-- Auth Tabs -->
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Login</button>
                    <button class="auth-tab" data-tab="signup">Sign Up</button>
                </div>
                
                <!-- Login Form -->
                <div class="auth-form" id="loginForm">
                    <div class="form-group">
                        <input type="email" id="loginEmailMain" placeholder="Email address" class="login-input">
                    </div>
                    <div class="form-group">
                        <input type="password" id="loginPasswordMain" placeholder="Password" class="login-input">
                    </div>
                    <button class="btn-login-main" id="loginBtnMain">Login</button>
                </div>
                
                <!-- Signup Form -->
                <div class="auth-form hidden" id="signupForm">
                    <div class="form-group">
                        <input type="text" id="signupNameMain" placeholder="Full Name" class="login-input">
                    </div>
                    <div class="form-group">
                        <input type="email" id="signupEmailMain" placeholder="Email address" class="login-input">
                    </div>
                    <div class="form-group">
                        <input type="password" id="signupPasswordMain" placeholder="Password (min 6 characters)" class="login-input">
                    </div>
                    <button class="btn-login-main" id="signupBtnMain">Sign Up</button>
                </div>
                
                <div class="auth-divider">
                    <span>OR</span>
                </div>
                
                <button class="btn-google-main" id="googleSignInBtnMain">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                        <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                        <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
                        <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                    </svg>
                    Continue with Google
                </button>
                
                <div class="firebase-notice" id="firebaseNotice">
                    <p>‚ö†Ô∏è Firebase not configured. Authentication is disabled.</p>
                    <p class="firebase-help">Click "Continue as Guest" to use the app locally, or set up Firebase for cloud sync.</p>
                </div>
                
                <div class="guest-option">
                    <button class="btn-guest" id="continueAsGuest">
                        Continue as Guest
                    </button>
                    <p class="guest-note">Your data will be stored locally on this device only</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Install Prompt -->
    <div class="install-prompt" id="installPrompt">
        <div class="install-content">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            <div>
                <h4>Install HydroTracker</h4>
                <p>Install the app for a better experience!</p>
            </div>
            <button class="btn-install" id="installBtn">Install</button>
            <button class="btn-close-install" id="closeInstallPrompt">√ó</button>
        </div>
    </div>

    <!-- Server Warning Banner -->
    <div class="install-prompt" id="serverWarning" style="display: none; background: linear-gradient(135deg, #ff6b6b, #ee5a24);">
        <div class="install-content">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
            <div>
                <h4>Use a Local Server</h4>
                <p>Notifications work with "npm start" or deployed site</p>
            </div>
            <button class="btn-install" id="startServerBtn">How to Start</button>
            <button class="btn-close-install" id="closeServerWarning">√ó</button>
        </div>
    </div>
    
    <!-- Main App Container (Hidden initially) -->
    <div class="container hidden" id="mainApp">
        <!-- Particles Background -->
        <div class="particles" id="particles"></div>
        
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon-wrapper">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z" fill="currentColor"/>
                    </svg>
                </div>
                <h1>HydroTracker</h1>
            </div>
            <div class="header-actions">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                    <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <line x1="12" y1="1" x2="12" y2="3"/>
                        <line x1="12" y1="21" x2="12" y2="23"/>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                        <line x1="1" y1="12" x2="3" y2="12"/>
                        <line x1="21" y1="12" x2="23" y2="12"/>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                    </svg>
                    <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
                <button class="btn-icon profile-btn tooltip" id="profileBtn" aria-label="Profile" data-tooltip="Profile">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                </button>
                <div class="stat-item">
                    <span class="stat-value" id="currentStreak">0</span>
                    <span class="stat-label">üî• Day Streak</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Today's Progress Card -->
            <section class="card progress-card">
                <div class="card-header">
                    <h2>Today's Progress</h2>
                    <div class="header-buttons">
                        <button class="btn-icon tooltip" id="settingsBtn" aria-label="Settings" data-tooltip="Settings">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v6m0 6v6M4.22 4.22l4.24 4.24m7.07 7.07l4.24 4.24M1 12h6m6 0h6M4.22 19.78l4.24-4.24m7.07-7.07l4.24-4.24"/>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <!-- Water Animation Container -->
                <div class="water-container">
                    <div class="water-glass">
                        <div class="water-fill" id="waterFill">
                            <div class="water-wave"></div>
                            <div class="water-wave wave-2"></div>
                            <div class="bubbles" id="bubbles"></div>
                        </div>
                        <div class="glass-overlay"></div>
                        <div class="glass-shine"></div>
                    </div>
                    <div class="progress-text">
                        <span class="current-amount" id="currentAmount">0</span>
                        <span class="separator">/</span>
                        <span class="goal-amount" id="goalAmount">2000</span>
                        <span class="unit">ml</span>
                    </div>
                    <div class="percentage" id="percentage">0%</div>
                    
                    <!-- Achievement Badges -->
                    <div class="badges" id="badges">
                        <div class="badge" data-achievement="first-drop">
                            <span class="badge-icon">üíß</span>
                            <span class="badge-name">First Drop</span>
                        </div>
                        <div class="badge" data-achievement="goal-master">
                            <span class="badge-icon">üéØ</span>
                            <span class="badge-name">Goal Master</span>
                        </div>
                        <div class="badge" data-achievement="week-warrior">
                            <span class="badge-icon">‚ö°</span>
                            <span class="badge-name">Week Warrior</span>
                        </div>
                        <div class="badge" data-achievement="hydration-hero">
                            <span class="badge-icon">üèÜ</span>
                            <span class="badge-name">Hydro Hero</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Add Buttons -->
                <div class="quick-add">
                    <button class="quick-btn" data-amount="250">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
                            <line x1="3" y1="6" x2="21" y2="6"/>
                        </svg>
                        <span>250ml</span>
                    </button>
                    <button class="quick-btn" data-amount="500">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
                            <line x1="3" y1="6" x2="21" y2="6"/>
                        </svg>
                        <span>500ml</span>
                    </button>
                    <button class="quick-btn" data-amount="750">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
                            <line x1="3" y1="6" x2="21" y2="6"/>
                        </svg>
                        <span>750ml</span>
                    </button>
                </div>

                <!-- Custom Amount -->
                <div class="custom-add">
                    <input type="number" id="customAmount" placeholder="Custom amount (ml)" min="1" max="5000">
                    <button class="btn-primary" id="addCustomBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        Add
                    </button>
                </div>

                <!-- Undo Button -->
                <div class="undo-container">
                    <button class="btn-undo" id="undoBtn" disabled>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 7v6h6"/>
                            <path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"/>
                        </svg>
                        <span>Undo Last Entry</span>
                    </button>
                </div>
            </section>

            <!-- Statistics Cards -->
            <div class="stats-grid">
                <div class="card stat-card">
                    <div class="stat-icon" data-stat="average">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <h3>Average Daily</h3>
                        <p class="stat-number" id="avgDaily">0 ml</p>
                        <div class="stat-trend">üìà +5% this week</div>
                    </div>
                </div>

                <div class="card stat-card">
                    <div class="stat-icon" data-stat="goals">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <h3>Goal Reached</h3>
                        <p class="stat-number" id="goalsReached">0 days</p>
                        <div class="stat-trend">üéØ Keep going!</div>
                    </div>
                </div>

                <div class="card stat-card">
                    <div class="stat-icon" data-stat="streak">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <h3>Best Streak</h3>
                        <p class="stat-number" id="bestStreak">0 days</p>
                        <div class="stat-trend">üî• Amazing!</div>
                    </div>
                </div>
            </div>

            <!-- History Chart -->
            <section class="card chart-card">
                <h2>Weekly History</h2>
                <div class="chart-container">
                    <canvas id="historyChart"></canvas>
                </div>
            </section>

            <!-- Recent Activity -->
            <section class="card activity-card">
                <h2>Today's Activity</h2>
                <div class="activity-list" id="activityList">
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/>
                        </svg>
                        <p>No water logged yet today. Start tracking!</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <button class="btn-close" id="closeModal" aria-label="Close">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="dailyGoal">Daily Goal (ml)</label>
                    <input type="number" id="dailyGoal" min="500" max="10000" step="100" value="2000">
                    <p class="form-help">Recommended: 2000-3000ml per day</p>
                </div>
                
                <div class="form-group">
                    <div class="toggle-switch-container">
                        <span class="toggle-label">Enable Reminders</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="reminderToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <p class="form-help">Get notified to drink water throughout the day</p>
                </div>
                
                <div class="form-group" id="reminderOptions" style="display: none;">
                    <label for="reminderInterval">Reminder Interval</label>
                    <select id="reminderInterval">
                        <option value="30">Every 30 minutes</option>
                        <option value="60" selected>Every hour</option>
                        <option value="90">Every 90 minutes</option>
                        <option value="120">Every 2 hours</option>
                    </select>
                </div>
                
                <!-- Retry Notifications Button -->
                <div class="form-group" id="reminderRetry" style="display: none;">
                    <button class="btn-secondary full-width" id="retryNotificationsBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:18px;height:18px;margin-right:8px;">
                            <path d="M23 4v6h-6"></path>
                            <path d="M1 20v-6h6"></path>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                        </svg>
                        Retry Notifications
                    </button>
                    <p class="form-help">Click if notifications aren't working after granting permission</p>
                </div>
                
                <div class="form-group">
                    <label for="soundToggle">
                        <input type="checkbox" id="soundToggle" checked>
                        Sound Effects
                    </label>
                    <p class="form-help">Play sounds when adding water</p>
                </div>
                
                <div class="form-group">
                    <button class="btn-primary full-width" id="saveSettings">Save Settings</button>
                </div>
                
                <div class="form-group">
                    <button class="btn-danger full-width" id="resetData">Reset All Data</button>
                    <p class="form-help">This will delete all your history and cannot be undone</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="modal" id="authModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="authTitle">Welcome to HydroTracker</h2>
                <button class="btn-close" id="closeAuthModal" aria-label="Close">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <!-- Auth State: Not Logged In -->
                <div id="authLoginSection">
                    <div class="auth-tabs">
                        <button class="auth-tab active" data-tab="login">Login</button>
                        <button class="auth-tab" data-tab="signup">Sign Up</button>
                    </div>
                    
                    <!-- Login Form -->
                    <div class="auth-form" id="loginForm">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <input type="email" id="loginEmail" placeholder="Enter your email">
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" placeholder="Enter your password">
                        </div>
                        <button class="btn-primary full-width" id="loginBtn">Login</button>
                    </div>
                    
                    <!-- Signup Form -->
                    <div class="auth-form hidden" id="signupForm">
                        <div class="form-group">
                            <label for="signupName">Full Name</label>
                            <input type="text" id="signupName" placeholder="Enter your name">
                        </div>
                        <div class="form-group">
                            <label for="signupEmail">Email</label>
                            <input type="email" id="signupEmail" placeholder="Enter your email">
                        </div>
                        <div class="form-group">
                            <label for="signupPassword">Password</label>
                            <input type="password" id="signupPassword" placeholder="Create a password (min 6 characters)">
                        </div>
                        <button class="btn-primary full-width" id="signupBtn">Sign Up</button>
                    </div>
                    
                    <div class="auth-divider">
                        <span>OR</span>
                    </div>
                    
                    <button class="btn-google" id="googleSignInBtn">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                            <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                            <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
                            <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                        </svg>
                        Continue with Google
                    </button>
                </div>
                
                <!-- Auth State: Logged In (Profile View) -->
                <div id="profileSection" class="hidden">
                    <div class="profile-header">
                        <div class="profile-avatar" id="profileAvatar">
                            <span id="profileInitials">?</span>
                        </div>
                        <div class="profile-info">
                            <h3 id="profileName">User Name</h3>
                            <p id="profileEmail">user@email.com</p>
                        </div>
                    </div>
                    
                    <div class="profile-stats">
                        <div class="profile-stat">
                            <span class="profile-stat-value" id="profileTotalDays">0</span>
                            <span class="profile-stat-label">Days Tracked</span>
                        </div>
                        <div class="profile-stat">
                            <span class="profile-stat-value" id="profileTotalWater">0</span>
                            <span class="profile-stat-label">Total Water (L)</span>
                        </div>
                        <div class="profile-stat">
                            <span class="profile-stat-value" id="profileGoalsMet">0</span>
                            <span class="profile-stat-label">Goals Met</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <button class="btn-secondary full-width" id="syncDataBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.3"/>
                            </svg>
                            Sync Data to Cloud
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <button class="btn-danger full-width" id="logoutBtn">Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Celebration Animation -->
    <div class="celebration" id="celebration">
        <div class="confetti"></div>
        <div class="fireworks"></div>
        <div class="celebration-message">
            <div class="achievement-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                    <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
            </div>
            <h3>Goal Reached! üéâ</h3>
            <p>Great job staying hydrated!</p>
            <button class="btn-primary" onclick="document.getElementById('celebration').classList.remove('active')">Continue</button>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="app.js"></script>
    <script>
        // Register Firebase Cloud Messaging service worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('/firebase-messaging-sw.js', {
                    scope: '/firebase-cloud-messaging-push-scope'
                }).then(function(registration) {
                    console.log('FCM Service Worker registered with scope:', registration.scope);
                }).catch(function(error) {
                    console.log('FCM Service Worker registration failed:', error);
                });
            });
        }
    </script>
</body>
</html>
